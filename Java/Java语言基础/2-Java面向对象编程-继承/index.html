



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="ja">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>第12 章 ： 继承的定义与使用 - 学习笔记</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#12" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="学习笔记" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              学习笔记
            </span>
            <span class="md-header-nav__topic">
              
                第12 章 ： 继承的定义与使用
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="学习笔记" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    学习笔记
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="主页" class="md-nav__link">
      主页
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../Python/" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../php/" title="PHP" class="md-nav__link">
      PHP
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../ElasticSearch/" title="ElasticSearch" class="md-nav__link">
      ElasticSearch
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../JavaScript/" title="JavaScript" class="md-nav__link">
      JavaScript
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../MySQL/" title="MySQL" class="md-nav__link">
      MySQL
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../人工智能/" title="人工智能" class="md-nav__link">
      人工智能
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../LEK/" title="LEK" class="md-nav__link">
      LEK
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../设计模式/" title="设计模式" class="md-nav__link">
      设计模式
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../Linux/" title="Linux" class="md-nav__link">
      Linux
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#59" class="md-nav__link">
    59 继承问题引出
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#60" class="md-nav__link">
    60 继承的实现
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    61 子类对象实例化流程
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#62" class="md-nav__link">
    62 继承定义限制
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#63" class="md-nav__link">
    63 方法覆写
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#64" class="md-nav__link">
    64 方法覆写限制
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#65" class="md-nav__link">
    65 属性覆盖
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#66-final" class="md-nav__link">
    66 final关键字
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#67" class="md-nav__link">
    67 案例分析一（学生类）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#68" class="md-nav__link">
    68 案例分析二（管理人员与职员）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#69" class="md-nav__link">
    69 案例分析三（字符串统计）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#70" class="md-nav__link">
    70 案例分析四（数组操作）
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="12">第12 章 ： 继承的定义与使用</h1>
<h2 id="59">59 继承问题引出</h2>
<p>继承：扩充已有类的功能</p>
<h2 id="60">60 继承的实现</h2>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="n">子类</span> <span class="n">extends</span> <span class="n">父类</span>
</pre></div>


<p>子类：派生类<br />
父类：超类</p>
<p>继承实现的主要目的<br />
子类可以重用父类中的结构，并且扩充功能</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Person</span><span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span> <span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span> <span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>


<span class="kd">class</span> <span class="nc">Student</span> <span class="kd">extends</span> <span class="n">Person</span><span class="o">{</span>
    <span class="n">String</span> <span class="n">school</span> <span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSchool</span><span class="o">(</span><span class="n">String</span> <span class="n">school</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">school</span> <span class="o">=</span> <span class="n">school</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getSchool</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">school</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">,</span> <span class="n">String</span> <span class="n">school</span><span class="o">){</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">school</span> <span class="o">=</span> <span class="n">school</span> <span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Demo</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Student</span><span class="o">(</span><span class="s">&quot;张三&quot;</span> <span class="o">,</span> <span class="mi">23</span><span class="o">,</span> <span class="s">&quot;大学&quot;</span><span class="o">);</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">student</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
        <span class="c1">// 张三</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">student</span><span class="o">.</span><span class="na">getSchool</span><span class="o">());</span>
        <span class="c1">// 大学</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<h2 id="61">61 子类对象实例化流程</h2>
<p>子类实例化会自动调用父类构造方法</p>
<p>默认执行 super()</p>
<p>子类构造方法默认调用父类无参构造方法，只允许放在子类构造方法首行</p>
<p>结论：<br />
定义类的时候最好写无参构造方法<br />
实例化子类对象的同事一定会实例化父类对象</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Person</span><span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(){}</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span> <span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span> <span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>


<span class="kd">class</span> <span class="nc">Student</span> <span class="kd">extends</span> <span class="n">Person</span><span class="o">{</span>
    <span class="kd">public</span> <span class="nf">Student</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">){</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span> <span class="c1">// 调用父类构造方法</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Demo</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Student</span><span class="o">(</span><span class="s">&quot;张三&quot;</span> <span class="o">,</span> <span class="mi">23</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>super, this 两个语句不能同时出现<br />
相同点：<br />
1、都可以调用构造方法<br />
2、都只能放在构造方法首行</p>
<p>不同点：<br />
1、super 调用父类构造方法<br />
2、this 调用本类构造方法</p>
<h2 id="62">62 继承定义限制</h2>
<p>Java不允许多重继承，只允许多层继承</p>
<p>多重继承</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">A</span><span class="o">{}</span>
<span class="kd">class</span> <span class="nc">B</span><span class="o">{}</span>
<span class="kd">class</span> <span class="nc">C</span> <span class="kd">extends</span> <span class="n">A</span><span class="o">,</span> <span class="n">B</span><span class="o">{}</span>
</pre></div>


<p>多层继承, 一脉传承</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">A</span><span class="o">{}</span>
<span class="kd">class</span> <span class="nc">B</span> <span class="kd">extends</span> <span class="n">A</span><span class="o">{}</span>
<span class="kd">class</span> <span class="nc">C</span> <span class="kd">extends</span> <span class="n">B</span><span class="o">{}</span>
</pre></div>


<p>继承关系最好不要超过三层</p>
<p>子类可以继承父类中所有操作结构<br />
显式继承非私有操作<br />
隐式继承私有操作</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Person</span><span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span> <span class="o">;</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(){}</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span> <span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="kd">class</span> <span class="nc">Student</span> <span class="kd">extends</span> <span class="n">Person</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">fun</span><span class="o">(){</span>
        <span class="c1">// 错误, 子类不能访问父类中的私有属性</span>
        <span class="c1">// System.out.println(this.name); </span>

        <span class="c1">// 子类间接访问父类中的私有属性</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>  
        <span class="c1">// 张三</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">){</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Demo</span> <span class="o">{</span>
     <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Student</span><span class="o">(</span><span class="s">&quot;张三&quot;</span><span class="o">);</span>
        <span class="n">student</span><span class="o">.</span><span class="na">fun</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<h2 id="63">63 方法覆写</h2>
<p>覆写意义：优化功能</p>
<p>子类调用父类方法<br />
super.方法()</p>
<p>调用本类方法, this可省略<br />
this.方法()</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Resource</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">connect</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;资源连接&quot;</span><span class="o">);</span>
    <span class="o">}</span> 
<span class="o">}</span>


<span class="kd">class</span> <span class="nc">Database</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">connect</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;数据库资源连接&quot;</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>


<span class="kd">class</span> <span class="nc">Demo</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Database</span> <span class="n">db</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Database</span><span class="o">();</span>

        <span class="c1">// 调用子类的方法</span>
        <span class="n">db</span><span class="o">.</span><span class="na">connect</span><span class="o">();</span>  
        <span class="c1">// 数据库资源连接</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<h2 id="64">64 方法覆写限制</h2>
<p>覆写的方法访问控制权限要 大于等于 父类方法控制权限</p>
<p>访问权限控制<br />
public &gt; default(不写) &gt; private</p>
<p>区别Override Overloading</p>
<p>Override    覆写<br />
概念：方法名，签名（参数类型，个数），返回值相同<br />
权限：被覆写的方法不能有更严格的权限控制<br />
范围：发生在继承关系中</p>
<p>Overloading 重载 <br />
概念：方法名相同，签名（参数类型，个数）不同，推荐返回类型一致<br />
权限：没有权限控制<br />
范围：发生在一个类中</p>
<h2 id="65">65 属性覆盖</h2>
<p>属性覆盖：子类定义了与父类相同名称的成员</p>
<p>区别：this super<br />
this 先查找本类，再查找父类，this可以表示本类对象<br />
super 直接查找父类</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Father</span><span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Father&quot;</span> <span class="o">;</span>

<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Child</span><span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Child&quot;</span> <span class="o">;</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Demo</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Child</span> <span class="n">child</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Child</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">child</span><span class="o">.</span><span class="na">getName</span><span class="o">())</span> <span class="o">;</span>
        <span class="c1">// Child</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></div>


<h2 id="66-final">66 final关键字</h2>
<p>final 定义不能被继承的类，不能被覆写的方法，常量</p>
<div class="codehilite"><pre><span></span><span class="kd">final</span> <span class="kd">class</span> <span class="nc">Demo</span><span class="o">{}</span>  <span class="c1">// 不能有子类</span>

<span class="kd">class</span> <span class="nc">Demo</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">final</span> <span class="kt">void</span> <span class="nf">fun</span><span class="o">(){}</span>  <span class="c1">// 不能被覆写</span>
<span class="o">}</span> 

<span class="kd">class</span> <span class="nc">Demo</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">ON</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">;</span>  <span class="c1">// 常量不能被重新赋值</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">OFF</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">;</span> 
<span class="o">}</span> 
</pre></div>


<p>常量往往都是公共的，全局常量</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">ON</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">;</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">OFF</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">;</span> 
</pre></div>


<p>常量每个字符都必须大写</p>
<h2 id="67">67 案例分析一（学生类）</h2>
<p>简单Java类</p>
<p>学生类继承人类<br />
人类 <br />
-四个属性：name，address， sex， age<br />
-三个构造：四参，两参，无参<br />
-一个方法：显示输出</p>
<p>学生<br />
-增加两个属性：math，english<br />
-三个构造：六参，两餐，无参<br />
-一个重写方法：显示输出</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Person</span><span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">address</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">char</span> <span class="n">sex</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAddress</span><span class="o">(</span><span class="n">String</span> <span class="n">address</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">address</span> <span class="o">=</span> <span class="n">address</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSex</span><span class="o">(</span><span class="kt">char</span> <span class="n">sex</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">sex</span> <span class="o">=</span> <span class="n">sex</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getAddress</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">address</span> <span class="o">;</span>
    <span class="o">}</span>

     <span class="kd">public</span> <span class="kt">char</span> <span class="nf">getSex</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">sex</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(){}</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">){</span>
        <span class="c1">// 调用本类构造方法</span>
        <span class="k">this</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">,</span> <span class="s">&quot;&quot;</span><span class="o">,</span> <span class="sc">&#39;男&#39;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">,</span> <span class="n">String</span> <span class="n">address</span><span class="o">,</span> <span class="kt">char</span> <span class="n">sex</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span> <span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span> <span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">address</span> <span class="o">=</span> <span class="n">address</span> <span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">sex</span> <span class="o">=</span> <span class="n">sex</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getInfo</span><span class="o">(){</span>
        <span class="k">return</span> <span class="s">&quot;name: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">+</span> 
                <span class="s">&quot; age: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">+</span>
                <span class="s">&quot; address: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">address</span> <span class="o">+</span> 
                <span class="s">&quot; sex: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">sex</span> <span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="c1">// 继承</span>
<span class="kd">class</span> <span class="nc">Student</span> <span class="kd">extends</span> <span class="n">Person</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">math</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">english</span> <span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setMath</span><span class="o">(</span><span class="kt">double</span> <span class="n">math</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">math</span> <span class="o">=</span> <span class="n">math</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setEnglish</span><span class="o">(</span><span class="kt">double</span> <span class="n">english</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">english</span> <span class="o">=</span> <span class="n">english</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">getMath</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">math</span> <span class="o">;</span>
    <span class="o">}</span>

     <span class="kd">public</span> <span class="kt">double</span> <span class="nf">getEnglish</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">english</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// 重载构造方法</span>
    <span class="kd">public</span> <span class="nf">Student</span><span class="o">(){}</span>


    <span class="kd">public</span> <span class="nf">Student</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">){</span>
        <span class="c1">// 调用父类构造方法</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">,</span> <span class="n">String</span> <span class="n">address</span><span class="o">,</span> <span class="kt">char</span> <span class="n">sex</span><span class="o">,</span> 
        <span class="kt">double</span> <span class="n">math</span><span class="o">,</span> <span class="kt">double</span> <span class="n">english</span><span class="o">){</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">,</span> <span class="n">address</span><span class="o">,</span> <span class="n">sex</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">math</span> <span class="o">=</span> <span class="n">math</span> <span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">english</span> <span class="o">=</span> <span class="n">english</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// 覆写父类方法</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getInfo</span><span class="o">(){</span>
        <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">getInfo</span><span class="o">()</span> <span class="o">+</span> 
                <span class="s">&quot; math: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">math</span> <span class="o">+</span>
                <span class="s">&quot; english: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">english</span> <span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Demo</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Student</span><span class="o">(</span><span class="s">&quot;张三&quot;</span><span class="o">,</span> <span class="mi">16</span><span class="o">,</span> <span class="s">&quot;北京&quot;</span><span class="o">,</span> <span class="sc">&#39;男&#39;</span><span class="o">,</span> <span class="mf">99.9</span><span class="o">,</span> <span class="mf">87.9</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">student</span><span class="o">.</span><span class="na">getInfo</span><span class="o">());</span>
        <span class="c1">// name: 张三 age: 16 address: 北京 sex: 男 math: 99.9 english: 87.9</span>

    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<h2 id="68">68 案例分析二（管理人员与职员）</h2>
<p>员工类<br />
-2个属性 name, age<br />
-2个构造 无参, 2参<br />
-1个方法 显示信息</p>
<p>普通职员<br />
-4属性 name, age, dept, salary<br />
-2构造 无参， 4参<br />
-1个方法 显示信息</p>
<p>管理人员<br />
-4属性 name， age, position, income<br />
-2构造 无参， 4参<br />
-1个方法 显示信息</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span><span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Employee</span><span class="o">(){}</span>

    <span class="kd">public</span> <span class="nf">Employee</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span> <span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getInfo</span><span class="o">(){</span>
        <span class="k">return</span> <span class="s">&quot;name: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">+</span> <span class="s">&quot; age: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="kd">class</span> <span class="nc">Stuff</span> <span class="kd">extends</span> <span class="n">Employee</span><span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">dept</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">salary</span> <span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Stuff</span><span class="o">(){}</span>

    <span class="kd">public</span> <span class="nf">Stuff</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">,</span> <span class="n">String</span> <span class="n">dept</span><span class="o">,</span> <span class="kt">double</span> <span class="n">salary</span><span class="o">){</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">dept</span> <span class="o">=</span> <span class="n">dept</span> <span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">salary</span> <span class="o">=</span> <span class="n">salary</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getInfo</span><span class="o">(){</span>
        <span class="k">return</span> <span class="s">&quot;【Stuff】 &quot;</span> <span class="o">+</span> <span class="kd">super</span><span class="o">.</span><span class="na">getInfo</span><span class="o">()</span> <span class="o">+</span> 
            <span class="s">&quot; dept: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">dept</span> <span class="o">+</span> 
            <span class="s">&quot; salary: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">salary</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="kd">class</span> <span class="nc">Manager</span> <span class="kd">extends</span> <span class="n">Employee</span><span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">position</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">income</span> <span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Manager</span><span class="o">(){}</span>

    <span class="kd">public</span> <span class="nf">Manager</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">,</span> <span class="n">String</span> <span class="n">position</span><span class="o">,</span> <span class="kt">double</span> <span class="n">income</span><span class="o">){</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">position</span> <span class="o">=</span> <span class="n">position</span> <span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">income</span> <span class="o">=</span> <span class="n">income</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getInfo</span><span class="o">(){</span>
        <span class="k">return</span> <span class="s">&quot;【Manager】 &quot;</span> <span class="o">+</span> <span class="kd">super</span><span class="o">.</span><span class="na">getInfo</span><span class="o">()</span> <span class="o">+</span> 
            <span class="s">&quot; position: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">position</span> <span class="o">+</span> 
            <span class="s">&quot; income: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">income</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Demo</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Stuff</span> <span class="n">stuff</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stuff</span><span class="o">(</span><span class="s">&quot;张三&quot;</span><span class="o">,</span> <span class="mi">23</span><span class="o">,</span> <span class="s">&quot;技术部&quot;</span><span class="o">,</span> <span class="mf">3000.0</span><span class="o">);</span>
        <span class="n">Manager</span> <span class="n">manager</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Manager</span><span class="o">(</span><span class="s">&quot;李四&quot;</span><span class="o">,</span> <span class="mi">32</span><span class="o">,</span> <span class="s">&quot;技术总监&quot;</span><span class="o">,</span> <span class="mf">150000.0</span><span class="o">);</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">manager</span><span class="o">.</span><span class="na">getInfo</span><span class="o">());</span>
        <span class="c1">// 【Manager】 name: 李四 age: 32 position: 技术总监 income: 150000.0</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">stuff</span><span class="o">.</span><span class="na">getInfo</span><span class="o">());</span>
        <span class="c1">// 【Stuff】 name: 张三 age: 23 dept: 技术部 salary: 3000.0</span>

    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<h2 id="69">69 案例分析三（字符串统计）</h2>
<p>统计 字符o 和 n 出现的次数 do you know?</p>
<p>方式一：返回数组</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">CountDemo</span><span class="o">{</span>
    <span class="c1">// 统计两个字符个数，第一个为o, 第二个为u</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">getCount</span><span class="o">(</span><span class="n">String</span> <span class="n">str</span><span class="o">){</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">countData</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">;</span>

        <span class="kt">char</span><span class="o">[]</span> <span class="n">data</span> <span class="o">=</span> <span class="n">str</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">()</span> <span class="o">;</span>


        <span class="k">for</span><span class="o">(</span><span class="kt">char</span> <span class="n">c</span> <span class="o">:</span> <span class="n">data</span><span class="o">){</span>
            <span class="k">if</span><span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;o&#39;</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;O&#39;</span><span class="o">){</span>
                <span class="n">countData</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">++;</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;u&#39;</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;U&#39;</span><span class="o">){</span>
                <span class="n">countData</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">++;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">countData</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">countData</span> <span class="o">=</span> <span class="n">CountDemo</span><span class="o">.</span><span class="na">getCount</span><span class="o">(</span><span class="s">&quot;are you ok?&quot;</span><span class="o">)</span> <span class="o">;</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;o: &quot;</span> <span class="o">+</span> <span class="n">countData</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span> <span class="c1">// o: 2</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;u: &quot;</span> <span class="o">+</span> <span class="n">countData</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span> <span class="c1">// u: 1</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>方式二：返回对象</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">StringUtil</span><span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">content</span> <span class="o">;</span> 

    <span class="kd">public</span> <span class="nf">StringUtil</span><span class="o">(</span><span class="n">String</span> <span class="n">content</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">content</span> <span class="o">=</span> <span class="n">content</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getContent</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">content</span> <span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="kd">class</span> <span class="nc">CountDemo</span> <span class="kd">extends</span> <span class="n">StringUtil</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">oCount</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">uCount</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">CountDemo</span><span class="o">(</span><span class="n">String</span> <span class="n">content</span><span class="o">){</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">content</span><span class="o">)</span> <span class="o">;</span>

        <span class="k">this</span><span class="o">.</span><span class="na">countChar</span><span class="o">()</span> <span class="o">;</span>  <span class="c1">//构造方法调用统计</span>
    <span class="o">}</span>

    <span class="c1">// 统计两个字符个数</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">countChar</span><span class="o">(){</span>

        <span class="kt">char</span><span class="o">[]</span> <span class="n">data</span> <span class="o">=</span> <span class="kd">super</span><span class="o">.</span><span class="na">getContent</span><span class="o">().</span><span class="na">toCharArray</span><span class="o">()</span> <span class="o">;</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">char</span> <span class="n">c</span> <span class="o">:</span> <span class="n">data</span><span class="o">){</span>
            <span class="k">if</span><span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;o&#39;</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;O&#39;</span><span class="o">){</span>
                <span class="k">this</span><span class="o">.</span><span class="na">oCount</span> <span class="o">++;</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;u&#39;</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="sc">&#39;U&#39;</span><span class="o">){</span>
                <span class="k">this</span><span class="o">.</span><span class="na">uCount</span> <span class="o">++;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getOCount</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">oCount</span> <span class="o">;</span>
    <span class="o">}</span>

     <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getUCount</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">uCount</span> <span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Demo</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">CountDemo</span> <span class="n">countData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CountDemo</span><span class="o">(</span><span class="s">&quot;are you ok?&quot;</span><span class="o">)</span> <span class="o">;</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;o: &quot;</span> <span class="o">+</span> <span class="n">countData</span><span class="o">.</span><span class="na">getOCount</span><span class="o">());</span> <span class="c1">// o: 2</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;u: &quot;</span> <span class="o">+</span> <span class="n">countData</span><span class="o">.</span><span class="na">getUCount</span><span class="o">());</span> <span class="c1">// u: 1</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<h2 id="70">70 案例分析四（数组操作）</h2>
<p>1、实现数组保存数据<br />
（1）大小由外部决定<br />
（2）增加数据，满了则失败<br />
（3）数组扩容<br />
（4）取得数组全部数据</p>
<p>2、实现两个派生类<br />
（1）数组排序<br />
（2）数组反转</p>
<p>如果子类方法和父类方法功能相同，优先考虑覆写父类方法</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">ArrayDemo</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">point</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">data</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">ArrayDemo</span><span class="o">(</span><span class="kt">int</span> <span class="n">length</span><span class="o">){</span>
        <span class="c1">// 传入的长度如果小于1则等于1</span>
        <span class="k">if</span><span class="o">(</span><span class="n">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">){</span>
            <span class="n">length</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="c1">// 开辟数组空间</span>
        <span class="k">this</span><span class="o">.</span><span class="na">data</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">length</span><span class="o">];</span>

    <span class="o">}</span>

    <span class="c1">// 添加元素</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">add</span><span class="o">(</span><span class="kt">int</span> <span class="n">element</span><span class="o">){</span>

        <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">point</span> <span class="o">&lt;</span> <span class="k">this</span><span class="o">.</span><span class="na">data</span><span class="o">.</span><span class="na">length</span><span class="o">){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">data</span><span class="o">[</span><span class="k">this</span><span class="o">.</span><span class="na">point</span><span class="o">]</span> <span class="o">=</span> <span class="n">element</span> <span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">point</span> <span class="o">++</span> <span class="o">;</span>
            <span class="k">return</span>  <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">else</span><span class="o">{</span>
            <span class="k">return</span>  <span class="kc">false</span><span class="o">;</span>    
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">// 数组扩容</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">increment</span><span class="o">(</span><span class="kt">int</span> <span class="n">num</span><span class="o">){</span>

        <span class="c1">// 数组一旦确定大小就不能被改变</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">newData</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">data</span><span class="o">.</span><span class="na">length</span> <span class="o">+</span> <span class="n">num</span><span class="o">];</span>
        <span class="c1">// arraycopy(Object src, int srcPos, Object dest, int destPos, int length)</span>
        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">data</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">newData</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">data</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>

        <span class="c1">//修改数组引用</span>
        <span class="k">this</span><span class="o">.</span><span class="na">data</span> <span class="o">=</span> <span class="n">newData</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">getData</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">data</span> <span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printData</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&quot;{&quot;</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="na">getData</span><span class="o">()){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&quot;, &quot;</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;}&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="c1">// 排序数组</span>
<span class="kd">class</span> <span class="nc">SortArray</span> <span class="kd">extends</span> <span class="n">ArrayDemo</span><span class="o">{</span>
    <span class="kd">public</span> <span class="nf">SortArray</span><span class="o">(</span><span class="kt">int</span> <span class="n">length</span><span class="o">){</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">length</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">getData</span><span class="o">(){</span>
        <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="kd">super</span><span class="o">.</span><span class="na">getData</span><span class="o">());</span>
        <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">getData</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="c1">// 反转数组</span>
<span class="kd">class</span> <span class="nc">ReverseArray</span> <span class="kd">extends</span> <span class="n">ArrayDemo</span><span class="o">{</span>
    <span class="kd">public</span> <span class="nf">ReverseArray</span><span class="o">(</span><span class="kt">int</span> <span class="n">length</span><span class="o">){</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">length</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">getData</span><span class="o">(){</span>
        <span class="kt">int</span> <span class="n">center</span> <span class="o">=</span> <span class="kd">super</span><span class="o">.</span><span class="na">getData</span><span class="o">().</span><span class="na">length</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">head</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">;</span>
        <span class="kt">int</span> <span class="n">tail</span> <span class="o">=</span> <span class="kd">super</span><span class="o">.</span><span class="na">getData</span><span class="o">().</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">center</span> <span class="o">;</span> <span class="n">i</span><span class="o">++){</span>
            <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span>  <span class="kd">super</span><span class="o">.</span><span class="na">getData</span><span class="o">()[</span><span class="n">head</span><span class="o">]</span> <span class="o">;</span>
            <span class="kd">super</span><span class="o">.</span><span class="na">getData</span><span class="o">()[</span><span class="n">head</span><span class="o">]</span> <span class="o">=</span> <span class="kd">super</span><span class="o">.</span><span class="na">getData</span><span class="o">()[</span><span class="n">tail</span><span class="o">]</span> <span class="o">;</span> 
            <span class="kd">super</span><span class="o">.</span><span class="na">getData</span><span class="o">()[</span><span class="n">tail</span><span class="o">]</span>  <span class="o">=</span> <span class="n">temp</span> <span class="o">;</span>

            <span class="n">head</span> <span class="o">++</span> <span class="o">;</span>
            <span class="n">tail</span> <span class="o">--</span> <span class="o">;</span>
        <span class="o">}</span> 

        <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">getData</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Demo</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ArrayDemo</span> <span class="n">array</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayDemo</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">array</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span> <span class="c1">// true</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">array</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">));</span> <span class="c1">// true</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">array</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">3</span><span class="o">));</span> <span class="c1">// true</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">array</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">4</span><span class="o">));</span> <span class="c1">// false</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">array</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">5</span><span class="o">));</span> <span class="c1">// false</span>

        <span class="n">array</span><span class="o">.</span><span class="na">increment</span><span class="o">(</span><span class="mi">3</span><span class="o">)</span> <span class="o">;</span> 

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">array</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">6</span><span class="o">));</span> <span class="c1">// true</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">array</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">7</span><span class="o">));</span> <span class="c1">// true</span>

        <span class="n">array</span><span class="o">.</span><span class="na">printData</span><span class="o">();</span>
        <span class="c1">// {1, 2, 3, 6, 7, 0, }</span>


        <span class="c1">// 排序数组</span>
        <span class="n">SortArray</span> <span class="n">sortArray</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SortArray</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
        <span class="n">sortArray</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
        <span class="n">sortArray</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">6</span><span class="o">);</span>
        <span class="n">sortArray</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
        <span class="n">sortArray</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
        <span class="n">sortArray</span><span class="o">.</span><span class="na">printData</span><span class="o">();</span>
        <span class="c1">// {0, 2, 3, 5, 6, }    </span>


        <span class="c1">// 反转数组</span>
        <span class="n">ReverseArray</span> <span class="n">reverseArray</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ReverseArray</span><span class="o">(</span><span class="mi">5</span><span class="o">)</span> <span class="o">;</span>
        <span class="n">reverseArray</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">;</span>
        <span class="n">reverseArray</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span> <span class="o">;</span>
        <span class="n">reverseArray</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">3</span><span class="o">)</span> <span class="o">;</span>
        <span class="n">reverseArray</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">4</span><span class="o">)</span> <span class="o">;</span>
        <span class="n">reverseArray</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">5</span><span class="o">)</span> <span class="o">;</span>
        <span class="n">reverseArray</span><span class="o">.</span><span class="na">printData</span><span class="o">()</span> <span class="o">;</span>
        <span class="c1">// {5, 4, 3, 2, 1, }</span>

    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            2019-2020
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/mouday" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.808e90bb.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../../assets/javascripts/lunr/lunr.ja.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>